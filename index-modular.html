<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="utf-8" />
    <link rel="stylesheet" href="globals.css" />
    <link rel="stylesheet" href="styleguide.css" />
    <link rel="stylesheet" href="style.css" />
    <title>Women AI Collective - Modular Version</title>
  </head>
  <body>
    <!-- Navbar Section -->
    <div id="navbar-section"></div>
    
    <div class="responsive">
      <div class="frame"><div class="element"></div></div>
      <div class="element-wrapper">
        <div class="div" id="main-content">
          <!-- All sections will be loaded here in sequence -->
        </div>
      </div>
    </div>
    
    <!-- Load section content dynamically -->
    <script>
      // Function to load HTML content
      async function loadHTML(filename) {
        try {
          const response = await fetch(`sections/html/${filename}`);
          return await response.text();
        } catch (error) {
          console.error(`Error loading ${filename}:`, error);
          return '';
        }
      }
      
      // Load all sections in the correct order
      document.addEventListener('DOMContentLoaded', async function() {
        // Load navbar
        const navbarHTML = await loadHTML('navbar.html');
        document.getElementById('navbar-section').innerHTML = navbarHTML;
        
        // Load main content sections in order
        const sections = [
          'hero.html',
          'about.html', 
          'impact.html',
          'solutions.html',
          'programs.html',
          'testimonials.html',
          'footer.html',
          'cta.html'
        ];
        
        let mainContent = '';
        for (const section of sections) {
          const html = await loadHTML(section);
          mainContent += html;
        }
        
        document.getElementById('main-content').innerHTML = mainContent;
        
        // Initialize button hover effects after content is loaded
        initializeButtonHovers();
        
        // Load the main script after all sections are loaded
        const script = document.createElement('script');
        script.src = 'script.js';
        script.defer = true;
        document.body.appendChild(script);
      });
      
      // Button hover effects function
      function initializeButtonHovers() {
        const arrowButtons = document.querySelectorAll('a.button.know-more, button.button.know-more');
        arrowButtons.forEach(btn => {
          const img = btn.querySelector('.pixel-arrow');
          const defaultSrc = btn.getAttribute('data-arrow-default') || (img ? img.src : 'images/Pixel Arrow.png');
          const hoverSrc = btn.getAttribute('data-arrow-hover') || 'images/Pixel Arrow straight.png';
          if (!img) return;

          // Preload hover image
          const preload = new Image();
          preload.src = hoverSrc;

          btn.addEventListener('mouseenter', function() {
            img.src = hoverSrc;
          });
          btn.addEventListener('mouseleave', function() {
            img.src = defaultSrc;
          });
        });
        
        // Initialize smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
          anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
              target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
              });
            }
          });
        });
      }
    </script>
  </body>
</html>
